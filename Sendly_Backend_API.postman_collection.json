{
  "info": {
    "name": "Sendly Backend API - Complete",
    "description": "Complete API collection for Sendly Marketing Backend - SMS marketing platform for Shopify stores\n\n**Setup Instructions:**\n1. Import this collection\n2. Import `Sendly_Dev_Store.postman_environment.json`\n3. Select the \"Sendly Dev Store\" environment\n4. Update `shopify_access_token` with your full access token from Debug Information\n\n**Authentication:**\n- All store-scoped endpoints require `X-Shopify-Shop-Domain` header\n- Header is automatically set via collection variable\n- Base URL: {{base_url}}\n\n**Dev Store:**\n- Shop Domain: {{shopDomain}}\n- Access Token: {{shopify_access_token}}",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "sendly-api"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "{{base_url}}",
      "type": "string"
    },
    {
      "key": "shopDomain",
      "value": "{{shopDomain}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîß Core",
      "description": "Core endpoints - health checks, metrics, and system info",
      "item": [
        {
          "name": "Get API Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "Get API status and basic info"
          }
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Basic health check"
          }
        },
        {
          "name": "Health Check Config",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/config",
              "host": ["{{base_url}}"],
              "path": ["health", "config"]
            },
            "description": "Get configuration health status"
          }
        },
        {
          "name": "Full Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/full",
              "host": ["{{base_url}}"],
              "path": ["health", "full"]
            },
            "description": "Comprehensive health check with system diagnostics"
          }
        },
        {
          "name": "Get Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/metrics?format=json",
              "host": ["{{base_url}}"],
              "path": ["metrics"],
              "query": [
                {
                  "key": "format",
                  "value": "json",
                  "description": "Format: json or prometheus"
                }
              ]
            },
            "description": "Get application metrics (JSON or Prometheus format)"
          }
        }
      ]
    },
    {
      "name": "üè† Dashboard",
      "description": "Dashboard overview and quick stats",
      "item": [
        {
          "name": "Get Dashboard Overview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/dashboard/overview",
              "host": ["{{base_url}}"],
              "path": ["dashboard", "overview"]
            },
            "description": "Get comprehensive dashboard data including stats, recent activity, and wallet balance"
          }
        },
        {
          "name": "Get Quick Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/dashboard/quick-stats",
              "host": ["{{base_url}}"],
              "path": ["dashboard", "quick-stats"]
            },
            "description": "Get quick statistics for dashboard widgets"
          }
        }
      ]
    },
    {
      "name": "üë• Contacts",
      "description": "Contact management operations",
      "item": [
        {
          "name": "List Contacts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/contacts?page=1&pageSize=20&filter=all",
              "host": ["{{base_url}}"],
              "path": ["contacts"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pageSize",
                  "value": "20",
                  "description": "Items per page (max 100)"
                },
                {
                  "key": "filter",
                  "value": "all",
                  "description": "Filter by consent status (all, consented, nonconsented)",
                  "disabled": true
                },
                {
                  "key": "q",
                  "value": "",
                  "description": "Search in name, email, phone",
                  "disabled": true
                },
                {
                  "key": "gender",
                  "value": "",
                  "description": "Filter by gender (male, female, other)",
                  "disabled": true
                },
                {
                  "key": "smsConsent",
                  "value": "",
                  "description": "Filter by SMS consent (opted_in, opted_out, unknown)",
                  "disabled": true
                },
                {
                  "key": "hasBirthDate",
                  "value": "",
                  "description": "Filter by birthday availability (true/false)",
                  "disabled": true
                }
              ]
            },
            "description": "Get paginated list of contacts with filtering and search"
          }
        },
        {
          "name": "Create Contact",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phoneE164\": \"{{test_phone_1}}\",\n  \"email\": \"john@example.com\",\n  \"gender\": \"male\",\n  \"birthDate\": \"1990-01-01T00:00:00.000Z\",\n  \"smsConsent\": \"opted_in\",\n  \"tags\": [\"vip\", \"newsletter\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/contacts",
              "host": ["{{base_url}}"],
              "path": ["contacts"]
            },
            "description": "Create a new contact with validation"
          }
        },
        {
          "name": "Get Contact by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/contacts/:id",
              "host": ["{{base_url}}"],
              "path": ["contacts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "contact_123",
                  "description": "Contact ID"
                }
              ]
            },
            "description": "Get a specific contact by ID"
          }
        },
        {
          "name": "Update Contact",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"email\": \"jane@example.com\",\n  \"smsConsent\": \"opted_out\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/contacts/:id",
              "host": ["{{base_url}}"],
              "path": ["contacts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "contact_123",
                  "description": "Contact ID"
                }
              ]
            },
            "description": "Update an existing contact"
          }
        },
        {
          "name": "Delete Contact",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/contacts/:id",
              "host": ["{{base_url}}"],
              "path": ["contacts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "contact_123",
                  "description": "Contact ID"
                }
              ]
            },
            "description": "Delete a contact"
          }
        },
        {
          "name": "Get Contact Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/contacts/stats",
              "host": ["{{base_url}}"],
              "path": ["contacts", "stats"]
            },
            "description": "Get contact statistics and analytics"
          }
        },
        {
          "name": "Get Birthday Contacts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/contacts/birthdays?daysAhead=7",
              "host": ["{{base_url}}"],
              "path": ["contacts", "birthdays"],
              "query": [
                {
                  "key": "daysAhead",
                  "value": "7",
                  "description": "Number of days to look ahead for birthdays (max 365)"
                }
              ]
            },
            "description": "Get contacts with upcoming birthdays"
          }
        },
        {
          "name": "Import Contacts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contacts\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"phoneE164\": \"{{test_phone_1}}\",\n      \"email\": \"john@example.com\",\n      \"smsConsent\": \"opted_in\"\n    },\n    {\n      \"firstName\": \"Jane\",\n      \"lastName\": \"Smith\",\n      \"phoneE164\": \"{{test_phone_2}}\",\n      \"email\": \"jane@example.com\",\n      \"smsConsent\": \"opted_in\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/contacts/import",
              "host": ["{{base_url}}"],
              "path": ["contacts", "import"]
            },
            "description": "Import multiple contacts from CSV data"
          }
        }
      ]
    },
    {
      "name": "üì¢ Campaigns",
      "description": "SMS campaign management",
      "item": [
        {
          "name": "List Campaigns",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/campaigns?page=1&pageSize=20",
              "host": ["{{base_url}}"],
              "path": ["campaigns"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pageSize",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Filter by status (draft, scheduled, sending, sent, failed, cancelled)",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "",
                  "description": "Sort field (createdAt, updatedAt, name, scheduleAt)",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "",
                  "description": "Sort direction (asc, desc)",
                  "disabled": true
                }
              ]
            },
            "description": "Get paginated list of campaigns with filtering"
          }
        },
        {
          "name": "Create Campaign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Black Friday Sale\",\n  \"message\": \"Get 50% off everything! Use code BLACKFRIDAY\",\n  \"audience\": \"all\",\n  \"discountId\": null,\n  \"scheduleType\": \"immediate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns",
              "host": ["{{base_url}}"],
              "path": ["campaigns"]
            },
            "description": "Create a new SMS campaign"
          }
        },
        {
          "name": "Get Campaign by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/campaigns/:id",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Get a specific campaign by ID"
          }
        },
        {
          "name": "Update Campaign",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Campaign Name\",\n  \"message\": \"Updated message content\",\n  \"audience\": \"male\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns/:id",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Update an existing campaign"
          }
        },
        {
          "name": "Delete Campaign",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/campaigns/:id",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Delete a campaign"
          }
        },
        {
          "name": "Prepare Campaign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns/:id/prepare",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id", "prepare"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Validate campaign and calculate recipient count without sending"
          }
        },
        {
          "name": "Send Campaign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns/:id/send",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id", "send"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Send campaign immediately. Validates credits and queues messages"
          }
        },
        {
          "name": "Schedule Campaign",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduleType\": \"scheduled\",\n  \"scheduleAt\": \"2025-12-01T10:00:00Z\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns/:id/schedule",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id", "schedule"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Schedule campaign for later sending"
          }
        },
        {
          "name": "Get Campaign Metrics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/campaigns/:id/metrics",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id", "metrics"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Get campaign performance metrics"
          }
        },
        {
          "name": "Get Campaign Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/campaigns/stats/summary",
              "host": ["{{base_url}}"],
              "path": ["campaigns", "stats", "summary"]
            },
            "description": "Get overall campaign statistics"
          }
        },
        {
          "name": "Retry Failed SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/campaigns/:id/retry-failed",
              "host": ["{{base_url}}"],
              "path": ["campaigns", ":id", "retry-failed"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Retry failed SMS messages for a campaign"
          }
        }
      ]
    },
    {
      "name": "ü§ñ Automations",
      "description": "Automated SMS triggers and workflows",
      "item": [
        {
          "name": "List Automations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/automations",
              "host": ["{{base_url}}"],
              "path": ["automations"]
            },
            "description": "Get list of all automations"
          }
        },
        {
          "name": "Get Automation Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/automations/stats",
              "host": ["{{base_url}}"],
              "path": ["automations", "stats"]
            },
            "description": "Get automation statistics"
          }
        },
        {
          "name": "Update Automation",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Birthday Wishes\",\n  \"message\": \"Happy Birthday! Here's an updated special gift for you!\",\n  \"isActive\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/automations/:id",
              "host": ["{{base_url}}"],
              "path": ["automations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "automation_123",
                  "description": "Automation ID"
                }
              ]
            },
            "description": "Update an existing automation"
          }
        },
        {
          "name": "Get System Defaults",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/automations/defaults",
              "host": ["{{base_url}}"],
              "path": ["automations", "defaults"]
            },
            "description": "Get system default automations"
          }
        },
        {
          "name": "Sync System Defaults",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/automations/sync",
              "host": ["{{base_url}}"],
              "path": ["automations", "sync"]
            },
            "description": "Sync system default automations"
          }
        }
      ]
    },
    {
      "name": "üìÑ Templates",
      "description": "SMS template management",
      "item": [
        {
          "name": "List Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/templates?category=marketing&search=sale&page=1&pageSize=20",
              "host": ["{{base_url}}"],
              "path": ["templates"],
              "query": [
                {
                  "key": "category",
                  "value": "marketing",
                  "description": "Filter by template category",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "sale",
                  "description": "Search in title and content",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pageSize",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get list of public templates with filtering"
          }
        },
        {
          "name": "Get Template Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/templates/categories",
              "host": ["{{base_url}}"],
              "path": ["templates", "categories"]
            },
            "description": "Get all template categories"
          }
        },
        {
          "name": "Get Template by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/templates/:id",
              "host": ["{{base_url}}"],
              "path": ["templates", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "template_123",
                  "description": "Template ID"
                }
              ]
            },
            "description": "Get a specific template by ID"
          }
        },
        {
          "name": "Track Template Usage",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/templates/:id/track",
              "host": ["{{base_url}}"],
              "path": ["templates", ":id", "track"],
              "variable": [
                {
                  "key": "id",
                  "value": "template_123",
                  "description": "Template ID"
                }
              ]
            },
            "description": "Track template usage for analytics"
          }
        }
      ]
    },
    {
      "name": "üìä Reports",
      "description": "Analytics and reporting",
      "item": [
        {
          "name": "Get KPIs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/kpis",
              "host": ["{{base_url}}"],
              "path": ["reports", "kpis"]
            },
            "description": "Get key performance indicators"
          }
        },
        {
          "name": "Get Reports Overview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/overview?from=2025-01-01&to=2025-01-31",
              "host": ["{{base_url}}"],
              "path": ["reports", "overview"],
              "query": [
                {
                  "key": "from",
                  "value": "2025-01-01",
                  "description": "Start date (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "to",
                  "value": "2025-01-31",
                  "description": "End date (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            },
            "description": "Get reports overview"
          }
        },
        {
          "name": "Get Campaign Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/campaigns?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url}}"],
              "path": ["reports", "campaigns"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Start date for report (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31",
                  "description": "End date for report (YYYY-MM-DD)"
                }
              ]
            },
            "description": "Get campaign performance reports"
          }
        },
        {
          "name": "Get Campaign Report by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/campaigns/:id",
              "host": ["{{base_url}}"],
              "path": ["reports", "campaigns", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Get specific campaign report"
          }
        },
        {
          "name": "Get Automations Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/automations",
              "host": ["{{base_url}}"],
              "path": ["reports", "automations"]
            },
            "description": "Get automations report"
          }
        },
        {
          "name": "Get Messaging Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/messaging",
              "host": ["{{base_url}}"],
              "path": ["reports", "messaging"]
            },
            "description": "Get messaging report"
          }
        },
        {
          "name": "Get Credits Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/credits",
              "host": ["{{base_url}}"],
              "path": ["reports", "credits"]
            },
            "description": "Get credits report"
          }
        },
        {
          "name": "Get Contacts Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/contacts",
              "host": ["{{base_url}}"],
              "path": ["reports", "contacts"]
            },
            "description": "Get contacts report"
          }
        },
        {
          "name": "Export Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/export?type=campaigns&format=csv&startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url}}"],
              "path": ["reports", "export"],
              "query": [
                {
                  "key": "type",
                  "value": "campaigns",
                  "description": "Report type (campaigns, contacts, automations, messaging, credits)"
                },
                {
                  "key": "format",
                  "value": "csv",
                  "description": "Export format (csv, json, xlsx)"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Start date for export"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31",
                  "description": "End date for export"
                }
              ]
            },
            "description": "Export reports in various formats"
          }
        }
      ]
    },
    {
      "name": "üí≥ Billing & Settings",
      "description": "Billing, credits, and settings management",
      "item": [
        {
          "name": "Get Balance",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/billing/balance",
              "host": ["{{base_url}}"],
              "path": ["billing", "balance"]
            },
            "description": "Get current credit balance"
          }
        },
        {
          "name": "Get Packages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/billing/packages",
              "host": ["{{base_url}}"],
              "path": ["billing", "packages"]
            },
            "description": "Get available credit packages"
          }
        },
        {
          "name": "Create Purchase Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"packageId\": \"package_1000\",\n  \"successUrl\": \"{{frontend_url}}/success\",\n  \"cancelUrl\": \"{{frontend_url}}/cancel\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/billing/purchase",
              "host": ["{{base_url}}"],
              "path": ["billing", "purchase"]
            },
            "description": "Create Stripe checkout session for credit purchase"
          }
        },
        {
          "name": "Get Transaction History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/billing/history?page=1&pageSize=20",
              "host": ["{{base_url}}"],
              "path": ["billing", "history"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pageSize",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "Filter by transaction type (purchase, debit, credit, refund, adjustment)",
                  "disabled": true
                },
                {
                  "key": "startDate",
                  "value": "",
                  "description": "Start date filter",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "description": "End date filter",
                  "disabled": true
                }
              ]
            },
            "description": "Get transaction history"
          }
        },
        {
          "name": "Get Billing History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/billing/billing-history?page=1&pageSize=20",
              "host": ["{{base_url}}"],
              "path": ["billing", "billing-history"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pageSize",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Filter by status (pending, completed, failed)",
                  "disabled": true
                }
              ]
            },
            "description": "Get billing history (Stripe transactions)"
          }
        },
        {
          "name": "Get Settings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/settings",
              "host": ["{{base_url}}"],
              "path": ["settings"]
            },
            "description": "Get shop settings and configuration"
          }
        },
        {
          "name": "Get Account Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/settings/account",
              "host": ["{{base_url}}"],
              "path": ["settings", "account"]
            },
            "description": "Get account information"
          }
        },
        {
          "name": "Update Sender Number",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"senderNumber\": \"Sendly\",\n  \"senderName\": \"{{mitto_sender_name}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/settings/sender",
              "host": ["{{base_url}}"],
              "path": ["settings", "sender"]
            },
            "description": "Update sender number and name"
          }
        }
      ]
    },
    {
      "name": "üîç Tracking",
      "description": "Message tracking endpoints",
      "item": [
        {
          "name": "Get Mitto Message Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tracking/mitto/:messageId",
              "host": ["{{base_url}}"],
              "path": ["tracking", "mitto", ":messageId"],
              "variable": [
                {
                  "key": "messageId",
                  "value": "message_123",
                  "description": "Mitto message ID"
                }
              ]
            },
            "description": "Get delivery status for a specific Mitto message"
          }
        },
        {
          "name": "Get Campaign Delivery Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tracking/campaign/:campaignId",
              "host": ["{{base_url}}"],
              "path": ["tracking", "campaign", ":campaignId"],
              "variable": [
                {
                  "key": "campaignId",
                  "value": "campaign_123",
                  "description": "Campaign ID"
                }
              ]
            },
            "description": "Get delivery status for all messages in a campaign"
          }
        },
        {
          "name": "Bulk Update Delivery Status",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messageIds\": [\"mitto-msg-123\", \"mitto-msg-456\"],\n  \"status\": \"delivered\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/tracking/bulk-update",
              "host": ["{{base_url}}"],
              "path": ["tracking", "bulk-update"]
            },
            "description": "Bulk update delivery status for multiple messages"
          }
        }
      ]
    },
    {
      "name": "üéüÔ∏è Discounts",
      "description": "Shopify discount code management",
      "item": [
        {
          "name": "Get Discounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/discounts",
              "host": ["{{base_url}}"],
              "path": ["discounts"]
            },
            "description": "Get available Shopify discount codes"
          }
        },
        {
          "name": "Get Discount by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/discounts/:id",
              "host": ["{{base_url}}"],
              "path": ["discounts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "discount_123",
                  "description": "Discount ID"
                }
              ]
            },
            "description": "Get specific discount code"
          }
        },
        {
          "name": "Validate Discount Code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/discounts/validate/:code",
              "host": ["{{base_url}}"],
              "path": ["discounts", "validate", ":code"],
              "variable": [
                {
                  "key": "code",
                  "value": "SUMMER20",
                  "description": "Discount code"
                }
              ]
            },
            "description": "Validate discount code for campaign use"
          }
        }
      ]
    },
    {
      "name": "üë• Audiences",
      "description": "Audience management",
      "item": [
        {
          "name": "Get Audiences",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/audiences",
              "host": ["{{base_url}}"],
              "path": ["audiences"]
            },
            "description": "Get predefined audiences"
          }
        },
        {
          "name": "Get Audience Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/audiences/:id/details?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["audiences", ":id", "details"],
              "variable": [
                {
                  "key": "id",
                  "value": "all",
                  "description": "Audience ID (e.g., 'all', 'male', 'female')"
                }
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page (max 100)"
                }
              ]
            },
            "description": "Get audience details with contact list"
          }
        },
        {
          "name": "Validate Audience",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"audienceId\": \"all\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/audiences/validate",
              "host": ["{{base_url}}"],
              "path": ["audiences", "validate"]
            },
            "description": "Validate audience selection"
          }
        }
      ]
    },
    {
      "name": "üõçÔ∏è Shopify",
      "description": "Shopify integration endpoints",
      "item": [
        {
          "name": "Get Shopify Discounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/shopify/discounts",
              "host": ["{{base_url}}"],
              "path": ["shopify", "discounts"]
            },
            "description": "Get available Shopify discount codes"
          }
        },
        {
          "name": "Get Shopify Discount by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/shopify/discounts/:id",
              "host": ["{{base_url}}"],
              "path": ["shopify", "discounts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "discount_123",
                  "description": "Discount ID"
                }
              ]
            },
            "description": "Get specific Shopify discount code"
          }
        },
        {
          "name": "Validate Shopify Discount",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"discountId\": \"discount_123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/shopify/discounts/validate",
              "host": ["{{base_url}}"],
              "path": ["shopify", "discounts", "validate"]
            },
            "description": "Validate discount code for campaign use"
          }
        }
      ]
    },
    {
      "name": "üîß Admin Templates",
      "description": "Admin template management (requires store context)",
      "item": [
        {
          "name": "List Admin Templates",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/templates",
              "host": ["{{base_url}}"],
              "path": ["admin", "templates"]
            },
            "description": "Get all templates (admin view)"
          }
        },
        {
          "name": "Create Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Welcome Message\",\n  \"category\": \"welcome\",\n  \"content\": \"Welcome to our store! Get 10% off your first order with code WELCOME10\",\n  \"previewImage\": null,\n  \"tags\": [\"welcome\", \"discount\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/templates",
              "host": ["{{base_url}}"],
              "path": ["admin", "templates"]
            },
            "description": "Create a new template (admin only)"
          }
        },
        {
          "name": "Get Template Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/templates/:id/stats",
              "host": ["{{base_url}}"],
              "path": ["admin", "templates", ":id", "stats"],
              "variable": [
                {
                  "key": "id",
                  "value": "template_123",
                  "description": "Template ID"
                }
              ]
            },
            "description": "Get template usage statistics"
          }
        },
        {
          "name": "Update Template",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Welcome Message\",\n  \"content\": \"Updated content here\",\n  \"tags\": [\"welcome\", \"updated\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/templates/:id",
              "host": ["{{base_url}}"],
              "path": ["admin", "templates", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "template_123",
                  "description": "Template ID"
                }
              ]
            },
            "description": "Update a template (admin only)"
          }
        },
        {
          "name": "Delete Template",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Shopify-Shop-Domain",
                "value": "{{shopDomain}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/templates/:id",
              "host": ["{{base_url}}"],
              "path": ["admin", "templates", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "template_123",
                  "description": "Template ID"
                }
              ]
            },
            "description": "Delete a template (admin only)"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set X-Shopify-Shop-Domain header for all requests",
          "if (!pm.request.headers.has('X-Shopify-Shop-Domain')) {",
          "    pm.request.headers.add({",
          "        key: 'X-Shopify-Shop-Domain',",
          "        value: pm.environment.get('shopDomain')",
          "    });",
          "}"
        ]
      }
    }
  ]
}

